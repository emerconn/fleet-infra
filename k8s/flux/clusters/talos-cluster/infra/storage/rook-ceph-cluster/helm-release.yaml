apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: rook-ceph-cluster
  namespace: flux-system
spec:
  values:
    operatorNamespace: rook-ceph
    clusterName: rook-ceph
    monitoring:
      enabled: true
      createPrometheusRules: false
      rulesNamespaceOverride: kube-prometheus-stack
    cephClusterSpec:
      dashboard:
        enabled: true
        ssl: false
      mgr:
        modules:
        - name: rook
          enabled: true
      removeOSDsIfOutAndSafeToRemove: true
    # cephBlockPools:
    # - name: ceph-blockpool
    #   storageClass:
    #     enabled: false
    #     name: ceph-block-delete
    #     isDefault: false
    #     reclaimPolicy: Delete
    # cephObjectStores:
    # - name: ceph-objectstore
    #   storageClass:
    #     enabled: false
    #     name: ceph-bucket-delete
    #     isDefault: false
    #     reclaimPolicy: Delete
    # cephFileSystems:
    # - name: ceph-filesystem
    #   storageClass:
    #     enabled: true
    #     name: ceph-ext4-retain
    #     isDefault: false
    #     reclaimPolicy: Retain
