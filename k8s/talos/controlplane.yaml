version: v1alpha1
debug: false
persist: true
machine:
    type: controlplane
    token: 79m9pa.awtmtha3o7u6z6dd
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEJ3Y2NxZjErcGh2dmd0L3FoQndIZEhNQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU5EQTNNVEV5TXpRMU5UWmFGdzB6TkRBM01Ea3lNelExTlRaYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBWjNhSXc1VzBtaGpZTFFuVmNFUUV1WTArUllMdk16NGFtVko1CnBoODIwTWlqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVZUhtUzQ5Z09XNjVKU0o0VQpkNEtyVjAwOE90UXdCUVlESzJWd0EwRUFrL0ZFYkNaSExGMW9ZZXJUR2JZMnZyblhPN1F5aG4xZTJjeWp3b0JZCjluK2R1YTYzQnoxeTlTL0xIN2lKRXVyVENqLzlUa3QxbkhwZmV0V1VDTFQvQ1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJTEtySy9kcC9LNmVxZXJnYitPdS9jaW1GMVhaTXRQaXNpcEIzZTViOThFVQotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
    certSANs: []
    kubelet:
        image: ghcr.io/siderolabs/kubelet:v1.30.2
        extraArgs:
            rotate-server-certificates: "true"
        defaultRuntimeSeccompProfileEnabled: true
        disableManifestsDirectory: true
    network:
        interfaces:
            - deviceSelector:
                physical: true
              routes:
                - network: 0.0.0.0/0
                  gateway: 172.21.0.1
              vip:
                ip: 172.21.0.7
        nameservers:
            - 172.17.0.1
    install:
        disk: /dev/sda
        extraKernelArgs:
            - talos.platform=metal
        image: factory.talos.dev/installer/c4f93bf64691eedef63d31b4513f4339249f5d5d1c368ebc70693bbbfa31aeda:v1.7.6
        wipe: true
    time:
        servers:
            - time.cloudflare.com
    features:
        rbac: true
        stableHostname: true
        apidCheckExtKeyUsage: true
        diskQuotaSupport: true
        kubePrism:
            enabled: true
            port: 7445
        hostDNS:
            enabled: true
cluster:
    id: uRqa5St6bu4DrnneHOYOyq32XY3dooiydG_9RvRiDhE=
    secret: rA4D4hDeypv/aLw+G50yY2iittyBK7btmgFLXY7Dk68=
    controlPlane:
        endpoint: https://172.21.0.2:6443
    clusterName: talos-cluster
    network:
        cni:
            name: none
        dnsDomain: cluster.local
        podSubnets:
            - 10.244.0.0/16
        serviceSubnets:
            - 10.96.0.0/12
    token: kd0qw7.dbi13hofeck1mawn
    secretboxEncryptionSecret: 8ukAKqm2Gj2emwlmC0l1IJ7GfMGwdzKWjbbHGRse2So=
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpVENDQVMrZ0F3SUJBZ0lRQ2duU3UxaFBpY2k5L3lwdGFORWxWREFLQmdncWhrak9QUVFEQWpBVk1STXcKRVFZRFZRUUtFd3ByZFdKbGNtNWxkR1Z6TUI0WERUSTBNRGN4TVRJek5EVTFObG9YRFRNME1EY3dPVEl6TkRVMQpObG93RlRFVE1CRUdBMVVFQ2hNS2EzVmlaWEp1WlhSbGN6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VICkEwSUFCS3FRU2YwRFpiMkluKzVld1dQeEwzdVJZalJpZEVLVVFoREE1ZHN3bUFreTdvbTJQZWtuSE5YeGdFZzcKbkhSejB4M0ZyYithblhCOVVwN3JjbC82TExDallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWRCZ05WSFNVRQpGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFCkZnUVVPRE9XVE1DeGwwWWw4elY3TUpDYWVEQnoyYnd3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUlnQWtTSUZmTEUKb0haaldOSm5TKzF4TDN3UHAvekE2NDRSelRMbGxCcnp0a0FDSVFEVjVVYUhrY0JLWmZ2Ky9zajZPTUEyR1Y2egp4ZnVuZ1lyZXVLRVk5bVJzVVE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUdBR213MDFzMTl5eEUyR0ZtSUdzbnlXak12MVREakNhYUk1Q1VLaXRmV0dvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFcXBCSi9RTmx2WWlmN2w3QlkvRXZlNUZpTkdKMFFwUkNFTURsMnpDWUNUTHVpYlk5NlNjYwoxZkdBU0R1Y2RIUFRIY1d0djVxZGNIMVNudXR5WC9vc3NBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    aggregatorCA:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJYakNDQVFXZ0F3SUJBZ0lRQnhVWTBqLzBUVGVteFdxQ3IvTjBuREFLQmdncWhrak9QUVFEQWpBQU1CNFgKRFRJME1EY3hNVEl6TkRVMU5sb1hEVE0wTURjd09USXpORFUxTmxvd0FEQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxRwpTTTQ5QXdFSEEwSUFCRDYyVCtGemlTWCtRMk00K1pFT0owMDJHa25nb0lZa0V1dWtFcUJPS3dtUTVaVklIOTFrCmNtTXdnYndhZ3h1RGhXZTZDdUcwbkhadmtnandrRm9vMGV5allUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWQKQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZApCZ05WSFE0RUZnUVV1eFo3SU55eEtJbGl5OENDcG43Vmx2cDBHbFV3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnCmNJTGhUVnhPbHcrK0tWSkVYdG1tMm05UXdiSlhMUlJUdkNSeTlwRFdPL29DSUNOaU8wWXpueUMxdHo2czA0T1oKT0llOHErZWZVTkQ2Mis2OXhXckk2RU80Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
        key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUl4TFkyejZNTm9JRkhzU1ZBbkdGMUx4SVBlRi9Gc2tzOTVOVnpqeDFramVvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFUHJaUDRYT0pKZjVEWXpqNWtRNG5UVFlhU2VDZ2hpUVM2NlFTb0U0ckNaRGxsVWdmM1dSeQpZekNCdkJxREc0T0ZaN29LNGJTY2RtK1NDUENRV2lqUjdBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    serviceAccount:
        key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBb2RBZmF6Z2NCN0xrc1ZYbFFOMFNFai9hZUQ4c1kyanZlbVlRbEJNSmV2RmxkcW52CnRvWU1Yd081WW5tVkRsaWVubWlLdDVCNFdWcXR0ZklGbFJnd2wvY0pvVEVXcUxZbThZaVo1RzkzUElmVlB0TmEKTGdMWnp4Q2V5VjFYbUFsalRJY2dTeS9QZTBsUlR2WmhDeTI4T2VHc1o5MEVaNjZhNDhaMXRoa3dTNmVma2prVwpSM0FRUjZHYkp6OXpqbU5Kek1GcDI3aVRKN2tmcjFna1pja3pmVHZDbU5DQ1dGSmM5WXFlVGFCcTFuNkhvWE9mCjlReVViS2R4dGdZMjlyb1hEOStHZHV1cHN2WDAvc2JNR1dRbDkvZG1MV1YrMUk2andLYnBuTHJEaTJ0cGtrQnoKZ2xOMzA5aStCY3lTUzJyM2lFWDc3b2MxQmo2YldJTzNCUW5hSSthTzUrekhnSE5MTDNWajd4TW1hbXZDTmY5RAo3MjVzUHh0OVFTTURLU1k2VWJwVjNjZ0NtbHQ0elBheFVqM0l5dE9yeFB3Zy9YQUtmckI0SGkrOTNTdVVTM3FyCnRQbWVnOHVpR2gyQzJNUitxSGpYTzlzWk1hVGZ6VTN6Nml3ajZnZHFTWHZLU1dieUM2cGpRR2pLMEV5MlY4a0kKVUZwU0MwWS9saEhpOFhlNVdHSHJ6eWIyZUhoN0RxRWFqbFN3WXUxWWJMQUcyRzM3UXhQaXBmbExIZGZ0UnMyOQpUM0E2UjhSUzVTNWMwcklMa1RmS1JSUWR1OVdlMVY3N0tWbHY5OG9RZnM5M2ZudEJPZVcrNWlZM0ZPRWtQdGVrClNCNVdPbjM1aWNKWi8zQU43b1ZkbmRYcFVSQ0ZLMjlhUTdDblpodVd2Ymg1MU9jNSs4WTF1dEJ6V3prQ0F3RUEKQVFLQ0FnQXRoT0tSd3VML3QyOW1BNGZPUzJJK0NBQnBPenc5YXRPVFZ3cnEzTUFaK2JaVlAxRFR3N25QTUxrQgozcm56b3pKYjFZVFFScS9VVXhIeTBQYUpEcGo4NXQycW5xaUZKVmluTVlvNUhMSXFNUHZvQklTbDFOOTR4SEFtCnJUOXE0Wmt4ZWdHM3BPZDFBeGNBWTRiQklraUU3OXNVRExTa2hoWEVaWnZQY2g2SDZjdVYwc0ZWcjB5bEdlMFAKaVdYMGRESGFpNzQvdFJpUVlCOXRzQm50R0VDSHhqdmp5U1FodkdteUdTQ1hMYjFnUVkvZDl5elVQb215VnhoQgo0Rld0Nm9ONlQ2TC82U04vMkhqbkF2MS9WeERuUkkxVnordHgxLzV3djRPUU4ybXkyckNFRitWbWtCeHhWOU44CnhpT1JXN0h1ZitGekpFM2lSOUpqZ0FvSVBORkVQWjgzS3JOb1VjampQc0cxUm81cWlhWDVhRFRVSG1rbXFXbVoKZ004MlVFeHhJanJNemlwWU10MEIrc3BPUGJXOVZKd2ZTWGNKOEdaYUtxU3VjVXhZWTk4UDJKOHJZcVhvZ1JCQwpUMGVNblFaM0Nib01iODVveHYvREx3UWxMSFI3amxPR213V2YrTGpOTTRGZnZvR2hIQ0dnYVovcE82YkJKL2NvCnl3U3EvbzlmcHptMDEwSjJOODlwM1A0ekdaL2R0N0RHbHFJc3FqRHRYQnNZNi9hZUdVVlhpSVpPU3lxazJQTTQKMHViQy94THJCa3JLY29kamNwRXY3VjRPd214blh1UGk1QkhFdnB1am9mSTJCNkFLdGZDSkRKdzlERVluTDBtegowc0tUS3pjVUQ2cTNVN1JNZ2dZazN4dys2amZmMS80Q0YvemoyNGNZUzJnTmI5a0QwUUtDQVFFQXlVekYrem9yCnJDajdPMXpHcTNydENXZ2g4V29zUXZSNFd5WU1yRmJRSFdQT2MrVE14UkNLV3hTeVZURHQ4Mk1rVlF2d24vUTMKNVdBcWJyd0hBRDdpRmYvNWdBdEM0Ym03cjE4MkFhaDVGbCs5T2U0N0VGdnlCa0lQd0FSV1dHL2huWDhQY3FBNQphYWxjTjRXU2pGNGw2UmFpbWR1aHJqN1A5dDBNd2JCQ0hVYWJ6Y2RMeDUwRUJZa2xQYi9aRzdTWHg3SzJoWUp4ClNEV3UxZC9lS2VPQ2JuWTRXeXhac2NMbWFSWHhtbndWZVJ3MEsxMnZFeVR1TWRjL2ZpZjdVRUYvNWhSKzJycXMKWHk2ODA3d3ZNVmdrQTBiUVhRT09DS1RLRTZlMG9iZ01pQ1dRTE9tcGRVNHBjb0hKUkdTUi9aYWo0TzZJdUNnegpzYVcxK1VRSDRTbko5d0tDQVFFQXpjaDdPeHlKTWNLbnBxaG1jWUZmWThuMHdMbW5XbUp1eWxXNFpzY2h4b2xKCmxYc2lHd0g0ZldjWGQ3cVdSNUNMRkQwRTRnN1hpNms4K0dDMDJKWlhWc3VJemduNmJXbW5UR2dyWUtWR2tRZGUKRzJjY3dwY2pONkdLNm16VFRncm5HcXZJZURGTURnd2R3UHJaazA5bVJMUWo1Sk03UWtQU0x4d1l3SHlWM3B2ZApGMUZId3Nnd0o0eStaRXcxc25pNFV1K3A5R2hBaWl3ZVhWUy9tay9BRW4zZ2l1eWZoU0htRGpMREszWThaRHQ4CkJtWjNSUmtvWHVXWmtHMElsOFgzVVRGMnB6Q1A1WVh1c0xwejhoQ2VzTGYwS0FSTEdnbGZPM3Z5WkhrMWJCSHMKMVArYTNQa2hwRTd3SHAwUytqdkd1dUdjTEdFRWRiRGhTYUp0T3FBNFR3S0NBUUFRdWthQmQvWUZHbXEySmlHRQpRblRNSVZFZ3hKZmxBSGUzNjFPR1JyaUltTENoUk5RWFZDYUxKdzhpc1N3MDIzbzdid0NSNmpOeTVpamdodE4yCkc4T2gzR0daV0ZZNGQ3eTIrQXgrMnNjbEt0T0lxdGxScExKWi9zZGNSMy85WFY2OFBjREUzN2VscGlNNW9lbnAKckRFdVMyazdxOXFscGlhVjl3eUdVK1ZLbFlHQStoeTcrN3BIMDN1NncrU0F2dU1WL3kzWHJsMUhpTjU4ZTF2MAoweWtWa05GaUVpOXA3QzVGY1VOZ2VRczN3elk2bkZCZUlPV0NVc2E5N3dpZFJMUWlKSFhlSzBFRHI5aVZKOEFzCk00emFrTm5qd05YZXRnTHMyelRSYzMvbkdHZ0FzM0lYZzJWQ1ZMS3E4a2lIY0NzeUYrQlluVTZlWm96V3ArYVgKdVdkRkFvSUJBSEhnYnVsd1NpL0NRNXFEZUdWNXJYc0FhTFE2U1BWSW9YelE0UUhuVXJhV2hLVDNCaEdpRG92KwovOHFlODhqWW9VNXEwZ2Z6Sks3QjBkNjFUWDdKKzcwcFZ5U0YreEtQTkNpaFFOZnp2bEJGbm50Vm5XSEYxNVJTCmpoaGFicml5YWQrbGpvT003RVNkeWQxZ05BVkVIQmtMQXczYnVDQmNmYlRhUEl4UXBYTVNGOUJ1aDJLdis0MzMKWWVrSkQzSWJRZzJMV1NiS2htU3dNNEY4ZzZkMldKa2pGWjVyZ1g5Z0dmcGpkd1BYSTJab1VLTU9FeFNtN21OTgpkYVNwNGVaemhBQm5lZnpkYjlRWlFOU0Y2ZUhiOXFWZXR2dHFITkZrdkZHanJxaVJOdEgrUFd4Rm9zS0VEMnpvCnpoSnk0K3ljSmNhSFVUQng0OURwT0ZMU1V0WHRraHNDZ2dFQkFMampkTUVsaldXK1g1R2RQeW8yTXVpbFFGV3MKZFlpcGFiRGsxUXFSRSsrWFp3RkhvS1FZdUZoU3lET0xGT1FUb3ZBOHRHeTFaTTlwdncwSHRmaU5LNGhBU2NXdQp1SnRxQXc2eWZ3OUJXekIxdS82dUxJcEh5akVOa0NqNlgyQ0hqMXlaRUtRdG1FQjEyZldCUzZ6dEk5MGc4dzArClQ3MTZwRkZrUXZIRGYvckxoa29CaGhSczBEWHI0Rkx6V2l1bmdQWHhFTGEyb0FMUUN3NTVQQ2FiZDR5MG01MHAKYnZYOE93Mi9EQnBlMXBMdi94cTdMNDRvSTUxTUw4eEJVVVoxbzY4Z2treFNVSkNzS1Q4Y0V3WTEyemRsWjMrVQpZSjZ3cUNWRTh2YXdiS3pYYUpPbjRQNVpxc21CWVUzQThHeHQ5bUtVenlmQ29VbjFrREl3SW9MbnY3ST0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
    apiServer:
        image: registry.k8s.io/kube-apiserver:v1.30.2
        certSANs:
            - 172.21.0.2
        disablePodSecurityPolicy: true
        admissionControl:
            - name: PodSecurity
              configuration:
                apiVersion: pod-security.admission.config.k8s.io/v1alpha1
                defaults:
                    audit: restricted
                    audit-version: latest
                    enforce: baseline
                    enforce-version: latest
                    warn: restricted
                    warn-version: latest
                exemptions:
                    namespaces:
                        - kube-system
                    runtimeClasses: []
                    usernames: []
                kind: PodSecurityConfiguration
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
    controllerManager:
        image: registry.k8s.io/kube-controller-manager:v1.31.0
    proxy:
        disabled: true
        image: registry.k8s.io/kube-proxy:v1.30.2
    scheduler:
        image: registry.k8s.io/kube-scheduler:v1.30.2
    discovery:
        enabled: true
        registries:
            kubernetes:
                disabled: true
            service: {}
    etcd:
        ca:
            crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmVENDQVNPZ0F3SUJBZ0lRVkNaN1JSeTVVZWk4NTNYUHQyWUhlekFLQmdncWhrak9QUVFEQWpBUE1RMHcKQ3dZRFZRUUtFd1JsZEdOa01CNFhEVEkwTURjeE1USXpORFUxTmxvWERUTTBNRGN3T1RJek5EVTFObG93RHpFTgpNQXNHQTFVRUNoTUVaWFJqWkRCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkg0THprZ3BKNU5CCkJ6Y0E2T01mdnEzaStrTUpzYVdYSTNjS3c5VDFsNWc3SytzQy9OUzM1cHhqalJNbVFFd1laQkhjRnh5b2U2ZGsKY2JCWW5KTGZ4Mm1qWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjRApBUVlJS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVUDlnZS9uSmlnWGduCjRQZ3JyMVc4QWQxejJIb3dDZ1lJS29aSXpqMEVBd0lEU0FBd1JRSWhBUG1vMFg5RnVic2lNYnlnQ3pPcnFJS2wKeWtGMElJL1dKN1V4alY3d0VtQk1BaUFBd1F6N2Z0dG1ob0lWSS9yODhMZExwcXhVd0FIdVBiTXZqTHhwVDFzMwozQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
            key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUd3QndwaTZqY2pZLzVIREtMT3owU05yQnVaLzUvNWQyY1BJa25uRzh3RVBvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFZmd2T1NDa25rMEVITndEbzR4KytyZUw2UXdteHBaY2pkd3JEMVBXWG1Ec3I2d0w4MUxmbQpuR09ORXlaQVRCaGtFZHdYSEtoN3AyUnhzRmlja3QvSGFRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    extraManifests:
        - https://raw.githubusercontent.com/alex1989hu/kubelet-serving-cert-approver/main/deploy/standalone-install.yaml
        - https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml
    allowSchedulingOnControlPlanes: true
